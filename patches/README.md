# MkDocs Theme Patches

This directory contains patches for the files contained in the MkDocs theme
[overrides](../overrides) directory. This enables upgrading to new versions of
the theme in the future without manually trying to resolve the differences
between the originals and our custom files.

The patches are currently based on v5.5.12 of mkdocs-material. Originals can be
found in your Python environment's `Lib/site-packages/material` directory.

## Modifications

### partials/nav.html

[nav.html.patch](partials/nav.html.patch) ->
[nav.html](../overrides/partials/nav.html)

- Set the navigation label to "Table of Contents" instead of repeating the
  site title that's already present in the header bar.
- Pass through the page chapter attribute set by the enumerate-headings
  extension for the nav-item.html partial to use.

### partials/nav-item.html

[nav-item.html.patch](partials/nav-item.html.patch) ->
[nav-item.html](../overrides/partials/nav-item.html)

- Include the chapter number generated by the enumerate-headings extension
  next to each item in the main navigation list.

### partials/toc.html

[toc.html.patch](partials/toc.html.patch) ->
[toc.html](../overrides/partials/toc.html)

- Use the page title as the label instead of the text "Table of contents".

## Creating Patches

The patches were created in a Linux shell with commands like the following:

```bash
diff -u .venv/Lib/site-packages/material/partials/nav.html overrides/partials/nav.html > patches/partials/nav.html.patch
```

Ensure line endings match between the two files. The site-packages files will
likely use Unix line endings, while the line endings of the repository files
will vary based on environment.

## Applying Patches

The patches can be applied to future versions of mkdocs-material in a Linux
shell with commands like the following:

```bash
patch -u -o overrides/partials/nav.html .venv/Lib/site-packages/material/partials/nav.html patches/partials/nav.html.patch
```

Ensure line endings match between the two files. The site-packages files will
likely use Unix line endings, while the line endings of the repository files
will vary based on environment.
