
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://operations.systemlink.io/data-stores/FileService-MinIO/" rel="canonical"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.5.12" name="generator"/>
<title>Leverage File Service S3 for on-premises storage - SystemLink Operations Handbook</title>
<link href="../../assets/stylesheets/main.4dd2dd8d.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.6a5ad368.min.css" rel="stylesheet"/>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-126136185-4","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
</head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="ni" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#leverage-file-service-s3-for-on-premises-storage">6. 
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="SystemLink Operations Handbook" class="md-header-nav__button md-logo" href="https://operations.systemlink.io" title="SystemLink Operations Handbook">
<svg style="enable-background:new 0 0 32 32;" version="1.1" viewbox="0 0 32 32" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
<style type="text/css">
	.st0{fill:#044123;}
	.st1{fill:#FFFFFF;}
	.st2{display:none;}
	.st3{display:inline;fill:#D3519D;fill-opacity:0.46;}
	.st4{display:inline;opacity:0.45;fill:#D3519D;}
</style>
<g id="Layer_1">
<g>
<path class="st0" d="M0,32V0l21.28,0C27.2,0.01,32,4.81,32,10.73V32H0z"></path>
</g>
<g>
<g>
<g>
<g>
<path class="st1" d="M15,17h-4c0,0,0-1.05,0-2.44c0-1.51,0.64-2.8,1.82-3.61c0.9-0.62,2.1-0.95,3.47-0.95H24v4h-7.21
						C15.5,14,15,14.63,15,15.7C15,16.43,15,17,15,17z"></path>
</g>
</g>
</g>
<g>
<g>
<g>
<path class="st1" d="M17,16h4c0,0,0,1.05,0,2.44c0,1.51-0.64,2.8-1.82,3.61c-0.9,0.62-2.1,0.95-3.47,0.95H8v-4h7.21
						C16.5,19,17,18.37,17,17.3C17,16.57,17,16,17,16z"></path>
</g>
</g>
</g>
</g>
</g>
<g class="st2" id="Layer_2">
<rect class="st3" height="16" width="16" x="8" y="8"></rect>
</g>
</svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            SystemLink Operations Handbook
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Leverage File Service S3 for on-premises storage
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/ni/systemlink-operations-handbook/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
    Table of Contents
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/ni/systemlink-operations-handbook/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../network-security/network-security/" title="Network Security">
      Network Security
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../rbac/rbac/" title="Workspaces and Role-based Access Control">
      Workspaces and Role-based Access Control
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../openid-connect/openid-connect/" title="Single Sign-on with OpenID Connect">
      Single Sign-on with OpenID Connect
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ldap/ldap/" title="Sign on with LDAP">
      Sign on with LDAP
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-6" id="nav-6" type="checkbox"/>
<label class="md-nav__link" for="nav-6">
      Data stores
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data stores" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-6">
<span class="md-nav__icon md-icon"></span>
        Data stores
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Leverage File Service S3 for on-premises storage
        <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="Leverage File Service S3 for on-premises storage">
      Leverage File Service S3 for on-premises storage
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Leverage File Service S3 for on-premises storage
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#running-minio-server">6.1 
    Running MinIO server
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuring-file-service">6.2 
    Configuring File Service
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mongodb/" title="MongoDB">
      MongoDB
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../upgrade/upgrade/" title="Upgrading and Migrating SystemLink Server">
      Upgrading and Migrating SystemLink Server
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../python-dataplugins/python-dataplugins/" title="Python DataPlugins">
      Python DataPlugins
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../preview-features/preview-features/" title="Preview Features">
      Preview Features
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Leverage File Service S3 for on-premises storage
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#running-minio-server">6.1 
    Running MinIO server
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuring-file-service">6.2 
    Configuring File Service
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/ni/systemlink-operations-handbook/edit/master/handbook/data-stores/FileService-MinIO.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="leverage-file-service-s3-for-on-premises-storage"><span class="enumerate-heading-plugin">6.</span> Leverage File Service S3 for on-premises storage<a class="headerlink" href="#leverage-file-service-s3-for-on-premises-storage" title="Permanent link">¶</a></h1>
<p>SystemLink File Service allows you to configure and use the Amazon S3 cloud storage instead of a file share. The File Service will also work with MinIO, a server-side software storage stack that is compatible with Amazon S3.</p>
<p>You can configure and use an on-premises MinIO server. Due to limitations, however, connecting to GCS or Azure using the MinIO gateway is unsupported.</p>
<p>To use MinIO with SystemLink, you need SystemLink version 2020 R3 or later.</p>
<p>To use MinIO as a storage provider, set up the MinIO server on a system that you would like to upload files to. This can be the same machine as the SystemLink server or your own dedicated server. Then, configure the File Service to use that server.</p>
<h2 id="running-minio-server"><span class="enumerate-heading-plugin">6.1</span> Running MinIO server<a class="headerlink" href="#running-minio-server" title="Permanent link">¶</a></h2>
<ol>
<li>
<p>Download the server application from the <a href="https://min.io/download">MinIO website</a>.</p>
</li>
<li>
<p>Since <a href="https://docs.min.io/minio/baremetal/security/IAM/iam-users.html#:~:text=If%20these%20variables%20are%20unset,credentials%20regardless%20of%20deployment%20environment.">MinIO discourages use of the default credentials</a>, you should change the access key and secret key. To do this, define the environment variables <code>MINIO_ACCESS_KEY</code> and <code>MINIO_SECRET_KEY</code>.</p>
</li>
<li>
<p>Run the following command to start the server with individual access and secret keys:</p>
<div class="highlight"><pre><span></span><code><span class="nb">set </span><span class="n">MINIO_ACCESS_KEY</span><span class="p">=</span><span class="n">YourAccessKey</span>
<span class="nb">set </span><span class="n">MINIO_SECRET_KEY</span><span class="p">=</span><span class="n">YourSecretKey</span>
<span class="n">minio</span> <span class="n">server</span> <span class="n">C</span><span class="err">:</span><span class="p">\</span><span class="n">minio</span>
</code></pre></div>
<p><figure>
<img src="../../img/minio-server.png" width="500"/>
<figcaption>Running a minio server.</figcaption>
</figure></p>
</li>
<li>
<p>When starting the MinIO server for the first time, use a web browser and navigate to the URL that the command line prints out. Create a bucket by clicking the <code>+</code> button in the right bottom corner.</p>
</li>
<li>
<p>Keep the command line open to keep the MinIO server running.</p>
</li>
</ol>
<p>For detailed information on how to run the server, follow the instructions from the <a href="https://docs.min.io/docs/minio-quickstart-guide.html">MinIO Quickstart guide</a>.</p>
<h2 id="configuring-file-service"><span class="enumerate-heading-plugin">6.2</span> Configuring File Service<a class="headerlink" href="#configuring-file-service" title="Permanent link">¶</a></h2>
<ol>
<li>
<p>Follow the instructions from <a href="https://www.ni.com/documentation/de/systemlink/latest/data/uploading-files-to-amazon-s3">the documentation on uploading files to S3</a> to configure the File Service.</p>
<p>a) Set the access key and secret key you chose when starting the MinIO server.</p>
<p>b) Apply a valid bucket region. You can use any valid Amazon S3 region, like <code>us-east-1</code> or <code>eu-central-1</code>.</p>
<p>c) Set the bucket name you created.</p>
</li>
<li>
<p>Add two additional settings to the JSON configuration file at <code>C:\ProgramData\National Instruments\Skyline\Config\FileIngestion.json</code>:</p>
<ul>
<li><code>S3BackEndServiceUrl</code>: Set this value to ip:port of your MinIO server. You can obtain that from the MinIO output in your command line.</li>
<li><code>S3ForcePathStyle</code>: Set this value to <code>True</code>.</li>
</ul>
<p>You can paste the example code below into the config file and replace the placeholders with your actual values.</p>
<div class="highlight"><pre><span></span><code><span class="s2">"UseS3BackEnd"</span> : <span class="s2">"True"</span>,
<span class="s2">"S3BackEndBucketRegion"</span> : <span class="s2">"us-east-1"</span>,
<span class="s2">"S3BackEndBucketName"</span> : <span class="s2">"&lt;YourBucket&gt;"</span>,
<span class="s2">"S3BackEndAccessKeyId"</span> : <span class="s2">"&lt;YourAccessKey&gt;"</span>,
<span class="s2">"S3BackEndSecretKey"</span> : <span class="s2">"&lt;YourSecretKey&gt;"</span>,
<span class="s2">"S3BackEndFolderName"</span> : <span class="s2">""</span>,
<span class="s2">"S3BackEndServiceUrl"</span> : <span class="s2">"&lt;YourServerIP&gt;"</span>,
<span class="s2">"S3ForcePathStyle"</span> : <span class="s2">"True"</span>
</code></pre></div>
</li>
<li>
<p>In the <strong>NI SystemLink Server Configuration</strong> dialog, go to the <strong>NI SystemLink Service Manager</strong> tab and click <strong>Restart</strong> to apply the settings you made in the JSON file.</p>
</li>
</ol>
<hr/>
<div class="md-source-date">
<small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">June 3, 2021</span>
</small>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../../ldap/ldap/" rel="prev" title="Sign on with LDAP">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Sign on with LDAP
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../mongodb/" rel="next" title="MongoDB">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                MongoDB
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2020 National Instruments Corporation
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.3636a4ec.min.js"></script>
<script src="../../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>